<article
  class="bg-skills text-center position-absolute top-0 left-0 min-vh-100 w-100"
>
  <header class="d-flex gap-3 align-items-center justify-content-center">
    <h1 class="title">Habilidades</h1>
    <button
      class="btn btn-outline-success"
      type="button"
      (click)="modalAgregar.toggleModal()"
      *ngIf="estaLogeado()"
    >
      <i class="fa fa-plus"></i>
    </button>
  </header>
  <section
    class="d-flex align-items-baseline justify-content-center text-center flex-wrap py-3 mb-3"
    *ngIf="habilidades.length > 0; else noSkills"
  >
    <article
    class="col-3"
      *ngFor="let habilidad of this.habilidades"
    >
        <header class="d-flex gap-3 flex-column align-items-center justify-content-center">
          <h5>{{ habilidad.name }}</h5>
          <img
            [src]="habilidad.logo"
            alt="logo-item"
            width="25px"
            height="30px"
          />
        </header>
        <footer class="d-flex gap-3 align-items-center justify-content-center" *ngIf="estaLogeado()">
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="seleccionarHabilidad(habilidad); modalEditar.toggleModal()"
          >
            <i class="fa fa-pencil"></i>
          </button>
          <button
            class="btn btn-outline-danger"
            type="button"
            (click)="
              seleccionarHabilidad(habilidad); modalEliminar.toggleModal()
            "
          >
            <i class="fa fa-trash-can"></i>
          </button>
        </footer>
    </article>
  </section>
</article>

<app-modal #modalAgregar [titulo]="'Agregar Habilidad'">
  <app-form-agregar-skill
    (agregar)="agregarHabilidad($event); modalAgregar.toggleModal()"
  ></app-form-agregar-skill>
</app-modal>

<app-modal #modalEditar [titulo]="'Editar Habilidad'">
  <app-form-editar-skill
    [editHabilidad]="habilidadSeleccionada"
    (editar)="editarHabilidad($event); modalEditar.toggleModal()"
  ></app-form-editar-skill>
</app-modal>

<app-modal #modalEliminar [titulo]="'Eliminar Habilidad'">
  <p *ngIf="this.habilidadSeleccionada">
    Â¿Realmente deseas eliminar <b>{{ habilidadSeleccionada.name }}</b
    >?
  </p>
  <button
    *ngIf="this.habilidadSeleccionada"
    class="btn btn-danger m-2"
    type="submit"
    (click)="
      eliminarHabilidad(habilidadSeleccionada.id); modalEliminar.toggleModal()
    "
  >
    Eliminar
  </button>
</app-modal>
<ng-template #noSkills>
  <p class="text-center">
    - No pudimos cargar las habilidades en este momento. -
  </p>
</ng-template>

<article
  class="bg-skills text-center position-absolute top-0 left-0 min-vh-100 w-100"
>
  <div class="container">
    <header>
      <div class="d-flex gap-3 align-items-center justify-content-center">
        <h1 class="title m-0">Habilidades</h1>
        <button
          class="btn-default primary-button"
          type="button"
          (click)="modalAgregar.toggleModal()"
          *ngIf="estaLogeado()"
        >
          <i class="fa fa-plus"></i>
        </button>
      </div>
    </header>
    <section
      class="d-flex align-items-baseline justify-content-center text-center flex-wrap py-3 mb-3 gap-3"
      *ngIf="habilidades.length > 0; else noSkills"
    >
      <app-card
        [title]="habilidad.name"
        [imageUrl]="habilidad.logo"
        class="col-3"
        *ngFor="let habilidad of this.habilidades"
      >
        <div *ngIf="estaLogeado()">
          <app-modal-actions-button
            (edit)="seleccionarHabilidad(habilidad); modalEditar.toggleModal()"
            (remove)="
              seleccionarHabilidad(habilidad); modalEliminar.toggleModal()
            "
          ></app-modal-actions-button>
        </div>
      </app-card>
    </section>
  </div>
</article>

<app-modal #modalAgregar [titulo]="'Agregar Habilidad'">
  <app-skill-form
    (formSubmitted)="agregarHabilidad($event); modalAgregar.toggleModal()"
    (formCancel)="modalAgregar.toggleModal()"
  ></app-skill-form>
</app-modal>

<app-modal #modalEditar [titulo]="'Editar Habilidad'">
  <app-skill-form
    [skillData]="habilidadSeleccionada"
    (formSubmitted)="editarHabilidad($event); modalEditar.toggleModal()"
    (formCancel)="modalEditar.toggleModal()"
  ></app-skill-form>
</app-modal>

<app-modal #modalEliminar [titulo]="'Eliminar Habilidad'" class="text-center">
  <p *ngIf="this.habilidadSeleccionada">
    Â¿Realmente deseas eliminar <b>{{ habilidadSeleccionada.name }}</b
    >?
  </p>
  <button
    *ngIf="this.habilidadSeleccionada"
    class="btn-default danger-button m-2"
    type="submit"
    (click)="
      eliminarHabilidad(habilidadSeleccionada.id); modalEliminar.toggleModal()
    "
  >
    Eliminar
  </button>
</app-modal>
<ng-template #noSkills>
  <p class="text-center">
    - No pudimos cargar las habilidades en este momento. -
  </p>
</ng-template>

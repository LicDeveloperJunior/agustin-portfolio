<article
  class="bg-skills text-center position-absolute top-0 left-0 min-vh-100 w-100"
>
  <div class="container">
    <header class="d-flex gap-3 align-items-center justify-content-center">
      <div>
        <h1 class="m-0"><b>Skills</b></h1>
        <hr class="underline-title">
      </div>
      <button
        class="btn-default primary-button"
        type="button"
        (click)="modalAgregar.toggleModal()"
        *ngIf="isLogged"
      >
        <i class="fa fa-plus"></i>
      </button>
    </header>
    <section
      class="d-flex align-items-baseline justify-content-center text-center flex-wrap py-3 mb-3 gap-3"
      *ngIf="habilidades.length > 0; else noSkills"
    >
      <app-card
        [title]="habilidad.name"
        [imageUrl]="habilidad.urlLogo"
        class="col-3"
        *ngFor="let habilidad of this.habilidades"
      >
        <div *ngIf="isLogged">
          <app-modal-actions-button
            (edit)="seleccionarHabilidad(habilidad); modalEditar.toggleModal()"
            (remove)="
              seleccionarHabilidad(habilidad); modalEliminar.toggleModal()
            "
          ></app-modal-actions-button>
        </div>
      </app-card>
    </section>
  </div>
</article>

<app-modal #modalAgregar [titulo]="'Add Skill'">
  <app-skill-form
    (formSubmitted)="agregarHabilidad($event); modalAgregar.toggleModal()"
    (formCancel)="modalAgregar.toggleModal()"
  ></app-skill-form>
</app-modal>

<app-modal #modalEditar [titulo]="'Edit Skill'">
  <app-skill-form
    [skillData]="habilidadSeleccionada"
    (formSubmitted)="editarHabilidad($event); modalEditar.toggleModal()"
    (formCancel)="modalEditar.toggleModal()"
  ></app-skill-form>
</app-modal>

<app-modal #modalEliminar [titulo]="'Remove Skill'">
  <p *ngIf="this.habilidadSeleccionada">
    Do you really want to remove <b>{{ habilidadSeleccionada.name }}</b
    >?
  </p>
  <button
    *ngIf="this.habilidadSeleccionada"
    class="btn-default danger-button m-2"
    type="submit"
    (click)="
      eliminarHabilidad(habilidadSeleccionada.id); modalEliminar.toggleModal()
    "
  >
    Delete
  </button>
</app-modal>
<ng-template #noSkills>
  <p class="text-center">
    - We cannot load skills at this time. -
  </p>
</ng-template>
